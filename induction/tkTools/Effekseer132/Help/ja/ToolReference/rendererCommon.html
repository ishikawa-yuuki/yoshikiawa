<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8>
	<title>描画共通</title>
	<link href="../base.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div class="main">
		<h1>描画共通</h1>
		
		<h2>概要</h2>
<p>
全ての描画方法に共通するパラメーターを設定する「描画共通」について説明します。
</p>

		<h2>パラメーター</h2>
		
		<h3>色/歪み画像</h4>
		<p>
パーティクルの表示に使用する色画像や歪み画像を設定します。色画像は名前の通り、殆どそのまま表示される模様等が描画されている画像です。殆どの場合、色画像を設定します。歪み画像に関しては、下記の歪みの項目で説明します。
		</p>

		<h3>ブレンド</h4>
		<p>
パーティクルの表示に適用されるアルファブレンドの方法を指定します。半透明、加算、減算といった既に描画された画像に対する合成の方法を指定します。
		</p>

		<h3>フィルタ</h4>
		<p>
パーティクルの表示に適用されるフィルタの方法を指定します。
		</p>

		<h3>深度書き込み</h3>
		<p>
パーティクルを表示するときに深度(奥行き)情報を書き込むか指定します。深度情報を書き込んだ後に、深度テストが有効になっているパーティクルを描画すると、そのパーティクルが奥にある場合、描画されなくなります。
		</p>

		<h3>深度テスト</h3>
		<p>
深度テストが有効である場合、書き込まれている深度情報より奥にパーティクルが描画されなくなります。

		</p>

		<h3>フェードイン</h3>
		<p>
パーティクルが表示されるときに、フェードインしつつ表示されるようにします。
		</p>

		<h3>フェードアウト</h3>
		<p>
パーティクルが消滅するときに、フェードアウトしつつ消滅するようにします。
		</p>

		<h3>UV</h3>
		<p>
色/歪み画像で、実際にパーティクルの表示に使用する範囲を指定します。
使用される範囲は時間で変化させられるため、画像をアニメーションさせられます。
領域の指定に使用される数値の単位はピクセルです。
		</p>

	<h4>アニメーション</h4>

	<p>
アニメーションが連続して配置されている画像を元に、アニメーションを再生します。
	</p>


<img src="../../img/Reference/renderCommon_uv_animation.png">

	<h5>開始時間(1.3以降)</h5>

	<p>
再生を開始するアニメーションの時間を指定します。
例えば、4枚の画像で構成されるアニメーションで2枚目から再生できます。
	</p>

	<h4>スクロール</h4>

	<p>
一定の速度でUVの範囲を移動させます。
	</p>

<img src="../../img/Reference/renderCommon_uv_scroll.png">


	<h4>Fカーブ</h4>
	<p>
Fカーブを使用します。
	</p>

		<h3>色への影響(1.3以降)</h3>
		<p>
親のパーティクルの色が子のパーティクルの色に影響を与えるか、を指定します。
影響を与える場合、親のパーティクルの色と子のパーティクルの色を掛け合わせた色が最終的な子のパーティクルの色になります。
「生成時のみ」を選択した場合、子のパーティクルが生成された時の親のパーティクルの色が常に適用されます。
		</p>
<table>
	<tr>
		<td>
			<p>なし</p>
		</td>
		<td>
			<p>生成時のみ</p>
		</td>
		<td>
			<p>常時</p>
		</td>
	</tr>

	<tr>
		<td>
			<img src="../../img/Reference/renderCommon_inherit_color_none.gif">
		</td>
		<td>
			<img src="../../img/Reference/renderCommon_inherit_color_when.gif">
		</td>
		<td>
			<img src="../../img/Reference/renderCommon_inherit_color_always.gif">
		</td>
	</tr>
</table>

		<h3>歪み</h3>
		<p>
下記の歪みの項目で説明します。
		</p>


		<h3>歪み強度</h3>
		<p>
下記の歪みの項目で説明します。
		</p>

		<h2>歪みについて</h2>

<p>
歪みの設定が有効な場合、パーティクルが背景を歪ませるようになります。歪み方は歪み画像、各描画の色の設定、歪み強度に依存します。
</p>

<p>
歪み画像の色のうち、赤と緑を歪みの情報として使用します。両方とも値が127のとき、全く歪みません。赤が127以上の時、右方向に歪み、127未満の時左方向に歪みます。
緑が127以上の時、上方向に歪み、127未満の時下方向に歪みます。ただし、この上下左右の方向は描画方法に依存します。例えば、スプライトの場合、長方形の辺の方向で上下左右が定まります。
</p>


<p>
各描画の色は歪みの強度を弱めます。255が最大で0になると歪まなくなります。赤は左右、緑は上下に影響します。
</p>

<p>
歪み強度は全ての歪みの強さを調節します。0になると歪まなくなります。
</p>

<table>
	<tr>
		<td>
			<p>歪みあり</p>
		</td>
		<td>
			<p>歪みなし</p>
		</td>
	</tr>

	<tr>
		<td>
			<img src="../../img/Reference/renderCommon_distortion_on.gif">
		</td>
		<td>
			<img src="../../img/Reference/renderCommon_distortion_off.gif">
		</td>
	</tr>
</table>

	</div>
</body>

</html>
